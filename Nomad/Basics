# To check nomad server details
nomad server members
nomad operator raft list-peers

# To check nomad client details
nomad node status
nomad node status 8c7e3b79

# To check nomad client details
nomad node status
nomad node status 8c7e3b79

# Jobs related
nomad job status 
nomad job status tetris
nomad job plan job.hcl
nomad job run job.hcl



############ Driver and Nomad Installation on Amazon Linux #########

# Install dependencies
echo "Installing Dependencies"
sudo yum update -y
sudo yum install -y jq
sudo yum install -y yum-utils

# Install Docker
sudo yum install -y docker
sudo systemctl enable docker
sudo systemctl start docker

# Download and Install Nomad via Package Manager
sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/AmazonLinux/hashicorp.repo
sudo yum -y install nomad

# Adds the nomad user to the docker group otherwise you may get error "* Constraint "missing drivers": 1 nodes excluded by filter"
sudo usermod -aG docker nomad


