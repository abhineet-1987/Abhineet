kubectl debug -it static-server-74bd9c5d5b-hghkc --target=consul-dataplane --image=nicolaka/netshoot -- sh

~ # curl localhost:19000/listeners
outbound_listener:127.0.0.1:15001::127.0.0.1:15001
public_listener:10.244.0.15:20000::10.244.0.15:20000

#########
outbound_listener:127.0.0.1:15001::127.0.0.1:15001
This is Envoyâ€™s outbound listener.
Purpose: intercepts all egress traffic from your application container (the sidecar model).
Port 15001 is the standard â€œcapture portâ€ used by Envoy in service mesh setups (similar to Istio).
Traffic flow:
Your app sends traffic to some external service.
iptables redirects it into Envoyâ€™s port 15001.
Envoy applies Consul Connect policies (mTLS, intentions, routing).
Envoy then forwards it to the correct upstream destination.
Bound to 127.0.0.1 because itâ€™s local to the dataplane container.

###########
public_listener:10.244.0.15:20000::10.244.0.15:20000
This is Envoyâ€™s inbound listener (sometimes called â€œpublic listenerâ€).
Purpose: accepts incoming traffic destined for your service.
Port 20000 is the default â€œservice portâ€ Envoy uses to expose the proxied application.
Traffic flow:
Other services in the mesh connect to this IP:20000.
Envoy terminates mTLS (using the Connect CA).
Envoy forwards the decrypted traffic to your applicationâ€™s real port (inside the pod).
Bound to the podâ€™s IP (10.244.0.15 in your case), so other pods in the cluster can reach it.

Summary
Outbound listener (15001) â†’ Captures and secures traffic leaving your app.
Public listener (20000) â†’ Accepts and secures traffic coming into your app.
Together, they implement Consul Connectâ€™s sidecar proxy model:
Outbound listener ensures all egress traffic is subject to mTLS + intentions.
Public listener ensures all ingress traffic is authenticated and encrypted.

ğŸ‘‰ In short:
15001 (outbound) = Envoy intercepts your appâ€™s outgoing traffic.
20000 (public/inbound) = Envoy receives incoming traffic for your app, applies mTLS, and forwards it internally.
