global:
  name: consul
  datacenter: dc2
  image: hashicorp/consul-enterprise:1.21.4-ent
  enterpriseLicense:
    secretName: consul-ent-license
    secretKey: key
  tls:
    enabled: true
    caCert:
      secretName: consul-federation
      secretKey: caCert
    caKey:
      secretName: consul-federation
      secretKey: caKey

  # Delete this acls section if ACLs are disabled.
  acls:
    manageSystemACLs: true
    replicationToken:
      secretName: consul-federation
      secretKey: replicationToken

  federation:
    enabled: true
    k8sAuthMethodHost: https://DB4869D0xxxxxxxxxB757829DD.gr7.us-west-2.eks.amazonaws.com
    primaryDatacenter: dc1
    primaryGateways: ["10.0.5.32:8443"]

  gossipEncryption:
    secretName: consul-federation
    secretKey: gossipEncryptionKey


connectInject:
  enabled: true
meshGateway:
  enabled: true
server:
  extraConfig: |
    {
      "primary_gateways": ["10.0.5.32"]
    }
  enabled: true
  replicas: 1
