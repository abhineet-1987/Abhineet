% kubectl get pods
NAME                                           READY   STATUS    RESTARTS   AGE
consul-connect-injector-bb7cb544-8n2vr         1/1     Running   0          5h40m
consul-server-0                                1/1     Running   0          5h40m
consul-webhook-cert-manager-5c954cd85d-np5s8   1/1     Running   0          5h40m

% kubectl get deploy
NAME                          READY   UP-TO-DATE   AVAILABLE   AGE
consul-connect-injector       1/1     1            1           5h41m
consul-webhook-cert-manager   1/1     1            1           5h41m

% kubectl get svc
NAME                      TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                                            AGE
consul-connect-injector   ClusterIP      10.96.12.160    <none>        443/TCP                                                                            5h42m
consul-dns                ClusterIP      10.96.48.71     <none>        53/TCP,53/UDP                                                                      5h42m
consul-server             ClusterIP      None            <none>        8501/TCP,8502/TCP,8301/TCP,8301/UDP,8302/TCP,8302/UDP,8300/TCP,8600/TCP,8600/UDP   5h42m
consul-ui                 NodePort       10.96.145.228   <none>        443:32017/TCP                                                                      5h42m
kubernetes                ClusterIP      10.96.0.1       <none>        443/TCP

# Important Points:-
consul-webhook-cert-manager exists solely to generate and rotate TLS certificates used by the consul-connect-injector webhook server.
The certificates generated by consul-webhook-cert-manager are used only for TLS between:
Kubernetes API Server ⇄ consul-connect-injector webhook server

The Consul Connect Injector functions as both a Mutating and a Validating admission webhook
% kubectl get validatingwebhookconfigurations
NAME                      WEBHOOKS   AGE
consul-connect-injector   2          5h31m
% kubectl get MutatingWebhookConfiguration
NAME                      WEBHOOKS   AGE
consul-connect-injector   13         5h31m

/ $ consul acl auth-method list
consul-k8s-auth-method:
   Type:         kubernetes
   Description:  Kubernetes Auth Method
consul-k8s-component-auth-method:
   Type:         kubernetes
   Description:  Kubernetes Auth Method
Note: Both the above auth methods use service account consul-auth-method.
consul-k8s-component-auth-method is used by Consul control-plane components (connect-injector, controllers, gateways) to authenticate to Consul and obtain component-level ACL tokens with broader, operational permissions.
consul-k8s-auth-method is used by application workloads (consul-dataplane / Envoy sidecars) to authenticate to Consul and obtain service-scoped ACL tokens bound to individual Consul services.

/ $ consul acl binding-rule list
2375337f-fc64-d126-a0ae-59e9e65e27ae:
   AuthMethod:   consul-k8s-component-auth-method
   Description:  Binding Rule for consul-connect-injector
   BindType:     role
   BindName:     consul-connect-inject-acl-role
   Selector:     serviceaccount.name=="consul-connect-injector"
3433f8ab-e448-1db4-8f45-bfa58025d914:
   AuthMethod:   consul-k8s-auth-method
   Description:  Kubernetes binding rule
   BindType:     service
   BindName:     ${serviceaccount.name}
   Selector:     serviceaccount.name!=default

% kubectl get secret
NAME                                 TYPE                                  DATA   AGE
consul-auth-method                   kubernetes.io/service-account-token   3      6h26m
consul-bootstrap-acl-token           Opaque                                1      6h25m
consul-ca-cert                       Opaque                                1      6h26m
consul-ca-key                        Opaque                                1      6h26m
consul-connect-inject-webhook-cert   kubernetes.io/tls                     2      6h26m
consul-server-cert                   kubernetes.io/tls                     2      6h26m
sh.helm.release.v1.consul.v1         helm.sh/release.v1                    1      6h26m

consul-auth-method: secret associated with service account consul-auth-method used in consul kubernetes auth methods consul-k8s-auth-method and consul-k8s-component-auth-method
consul-bootstrap-acl-token: master consul acl bootstrap token
consul-ca-cert, consul-ca-key -> Ca cert and key for Consul TLS
consul-server-cert -> Consul server certificate
consul-connect-inject-webhook-cert -> The consul-connect-inject-webhook-cert secret stores the TLS certificate and private key used by the Consul Connect Injector to securely serve Kubernetes admission webhook requests.

% kubectl get sa
NAME                             SECRETS   AGE
consul-auth-method               0         6h27m
consul-connect-injector          0         6h27m
consul-gateway-cleanup           0         6h27m
consul-gateway-resources         0         6h27m
consul-server                    0         6h27m
consul-server-acl-init           0         6h27m
consul-server-acl-init-cleanup   0         6h27m
consul-tls-init                  0         6h27m
consul-webhook-cert-manager      0         6h27m
default                          0         6h28m

consul-server-acl-init -> Used by ACL bootstrap job
consul-server-acl-init-cleanup -> Used by Cleanup job after ACL bootstrap to delete bootstrap artifacts and temporary permissions
consul-tls-init -> Used by TLS bootstrap job which generated Consul CA and server certificates
consul-webhook-cert-manager -> Used by consul-webhook-cert-manager pods to generate TLS certs for webhook (consul-connect-injector) server.
consul-connect-injector -> Used by consul-connect-injector pod to authenticate to Consul using consul-k8s-component-auth-method

When consul is deployed on kubernetes using helm, below jobs are created and gets completed post finishing their task:-
consul-tls-init -> Consul TLS initialization
consul-server-acl-init -> Consul ACL bootstrap
consul-server-acl-init-cleanup -> Deletes bootstrap artifacts and temporary permissions
consul-gateway-resources -> The consul-gateway-resources Job is a Kubernetes Job created by the Consul Helm chart to bootstrap and register the API Gateway resources (GatewayClass, Gateway, and supporting CRDs) into your cluster. It ensures that when you enable Consul’s API Gateway via Helm, 
the necessary Kubernetes Gateway API objects are created and wired up to Consul’s controller so that Envoy can start handling ingress traffic 

Note: Before consul-connect-injector pod comes up consul-server pod and consul-webhook-cert-manager pod should be up and running. (as it depends on them)





