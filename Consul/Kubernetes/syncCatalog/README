#### Use case: 
Consul running on VM, API gateway and httproute deployed as configuration entry on VM where Consul is running.
Application running in Kubernetes
SyncCatalog deployed in Kubernetes through helm chart so that the services gets registered in Consul.


Install Consul enterprise specific Consul version:-
Install Consul using https://developer.hashicorp.com/consul/install (this is to ensure that all the required user, group, folders are created for Consul)
Now manually download and move consul enterprise binary to the path
https://releases.hashicorp.com/consul
wget https://releases.hashicorp.com/consul/1.21.4+ent/consul_1.21.4+ent_linux_amd64.zip
unzip consul_1.21.4+ent_linux_amd64.zip
echo $PATH 
sudo mv consul /usr/bin
consul version

####### Install Kind on Amazon Linux ########
# For AMD64 / x86_64
[ $(uname -m) = x86_64 ] && curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.30.0/kind-linux-amd64
chmod +x ./kind
sudo mv ./kind /usr/local/bin/kind
################

######## Install Docker on Amazon Linux ##########
sudo dnf install -y docker
sudo systemctl start docker
sudo systemctl enable docker
docker --version
#############

sudo kind create cluster --config kind-config.hcl

#### Install kubectl on Amazon Linux #######
https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/

###### Install Helm on Amazon Linux ######
curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
chmod 700 get_helm.sh
./get_helm.sh

k create ns consul-sm
k create ns consul-sm-app

helm repo add hashicorp https://helm.releases.hashicorp.com
helm search repo hashicorp/consul
consul -n consul-sm hashicorp/consul --values=values.yaml



